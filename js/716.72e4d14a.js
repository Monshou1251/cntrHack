(self["webpackChunkcntrhack"]=self["webpackChunkcntrhack"]||[]).push([[716],{2716:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return m}});var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"nav"},[e("router-link",{staticClass:"button-link",attrs:{to:"/"}},[e("button",{staticClass:"home-button"},[t._v("Home")])]),e("router-link",{staticClass:"button-link",attrs:{to:"/v1"}},[e("button",{staticClass:"basic-button"},[t._v("Basic version")])]),e("router-link",{staticClass:"button-link",attrs:{to:"/v2"}},[e("button",{staticClass:"vuex-button"},[t._v("With Vuex")])])],1),e("div",{staticClass:"container"},[e("div",{staticClass:"grid-item"},[e("div",{staticClass:"item-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.priceNum.value,expression:"priceNum.value"}],attrs:{placeholder:"Price"},domProps:{value:t.priceNum.value},on:{input:[function(e){e.target.composing||t.$set(t.priceNum,"value",e.target.value)},()=>t.handleInputChange("priceNum")]}}),e("div",{staticClass:"label"},[t._v(t._s(t.priceNum.value))])])]),e("div",{staticClass:"grid-item"},[e("div",{staticClass:"item-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantityNum.value,expression:"quantityNum.value"}],attrs:{placeholder:"Quantity"},domProps:{value:t.quantityNum.value},on:{input:[function(e){e.target.composing||t.$set(t.quantityNum,"value",e.target.value)},()=>t.handleInputChange("quantityNum")]}}),e("div",{staticClass:"label"},[t._v(t._s(t.quantityNum.value))])])]),e("div",{staticClass:"grid-item"},[e("div",{staticClass:"item-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sumNum.value,expression:"sumNum.value"}],attrs:{placeholder:"Sum"},domProps:{value:t.sumNum.value},on:{input:[function(e){e.target.composing||t.$set(t.sumNum,"value",e.target.value)},()=>t.handleInputChange("sumNum")]}}),e("div",{staticClass:"label"},[t._v(t._s(t.sumNum.value))])])]),e("div",{staticClass:"grid-item"},[e("div",{staticClass:"item-4"},[e("button",{staticClass:"save-button",on:{click:t.saveData}},[t._v("Save Data")]),e("div",{staticClass:"local-state"},[t._v(t._s(t.savedData))])])]),e("div",{staticClass:"log-window"},[e("div",{staticClass:"item-5"},t._l(t.logMessages,(function(i,a){return e("div",{key:a,staticClass:"event"},[t._v(" "+t._s(i.timestamp)+" - "+t._s(i.text)+" ")])})),0)])])])},s=[],u=i(354),n=i.n(u),o={computed:{priceNum(){return this.$store.state.priceNum},quantityNum(){return this.$store.state.quantityNum},sumNum(){return this.$store.state.sumNum}},data(){return{nonce:0,oldLocalData:null,logMessages:[]}},watch:{"priceNum.value":n()((function(){this.updateFieldDate("priceNum"),this.recalculate("priceNum")}),300),"quantityNum.value":n()((function(){this.updateFieldDate("quantityNum"),this.recalculate("quantityNum")}),300),"sumNum.value":n()((function(){this.updateFieldDate("sumNum"),this.recalculate("sumNum")}),300)},methods:{incrementNonce(){this.nonce++},isValidPositiveNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)&&t>=0},saveData(){if(this.isValidPositiveNumber(this.priceNum.value)&&this.isValidPositiveNumber(this.quantityNum.value)&&this.isValidPositiveNumber(this.sumNum.value))if(this.sumNum.value%2===0)setTimeout((()=>{const t={timestamp:(new Date).toLocaleTimeString(),text:`Old data from localStorage was: ${JSON.stringify(this.savedData)}`},e={priceNum:parseInt(this.priceNum.value,10),quantityNum:parseInt(this.quantityNum.value,10),sumNum:parseInt(this.sumNum.value,10),nonce:this.nonce};localStorage.setItem("savedData",JSON.stringify(e)),this.savedData={...e},this.logMessages.unshift(t);const i={timestamp:(new Date).toLocaleTimeString(),text:`New data saved to localStorage: ${JSON.stringify(e)}`};this.logMessages.unshift(i)}),1e3);else{const t={timestamp:(new Date).toLocaleTimeString(),text:"Resulting Sum is not even, data is not saved."};this.logMessages.unshift(t)}else{const t="One or more fields are not valid positive numbers.",e={timestamp:(new Date).toLocaleTimeString(),text:t};this.logMessages.unshift(e)}},handleInputChange:n()((function(t){const e=this[t].value;this.$store.dispatch("updateFieldValue",{field:t,value:e});const i="sumNum"===t?"Sum":"quantityNum"===t?"Quantity":"priceNum"===t?"Price":"Unknown Field",a={timestamp:(new Date).toLocaleTimeString(),text:`${i} changed to ${e}.`};this.logMessages.unshift(a)}),300),isValidNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)},updateFieldDate(t){this.$store.dispatch("updateFieldDate",{fieldName:t})},recalculate(t){this.$store.dispatch("recalculate",{objName:t})}},created(){const t=localStorage.getItem("savedData");this.savedData=t?JSON.parse(t):{priceNum:0,quantityNum:0,sumNum:0,nonce:0},this.nonce=0,setInterval((()=>{this.incrementNonce()}),1e3)}},r=o,l=i(1001),c=(0,l.Z)(r,a,s,!1,null,"3232e2b0",null),m=c.exports},354:function(t,e,i){var a="Expected a function",s=NaN,u="[object Symbol]",n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,m="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,v="object"==typeof self&&self&&self.Object===Object&&self,d=m||v||Function("return this")(),p=Object.prototype,f=p.toString,N=Math.max,h=Math.min,g=function(){return d.Date.now()};function b(t,e,i){var s,u,n,o,r,l,c=0,m=!1,v=!1,d=!0;if("function"!=typeof t)throw new TypeError(a);function p(e){var i=s,a=u;return s=u=void 0,c=e,o=t.apply(a,i),o}function f(t){return c=t,r=setTimeout(D,e),m?p(t):o}function b(t){var i=t-l,a=t-c,s=e-i;return v?h(s,n-a):s}function C(t){var i=t-l,a=t-c;return void 0===l||i>=e||i<0||v&&a>=n}function D(){var t=g();if(C(t))return S(t);r=setTimeout(D,b(t))}function S(t){return r=void 0,d&&s?p(t):(s=u=void 0,o)}function x(){void 0!==r&&clearTimeout(r),c=0,s=l=u=r=void 0}function _(){return void 0===r?o:S(g())}function $(){var t=g(),i=C(t);if(s=arguments,u=this,l=t,i){if(void 0===r)return f(l);if(v)return r=setTimeout(D,e),p(l)}return void 0===r&&(r=setTimeout(D,e)),o}return e=w(e)||0,y(i)&&(m=!!i.leading,v="maxWait"in i,n=v?N(w(i.maxWait)||0,e):n,d="trailing"in i?!!i.trailing:d),$.cancel=x,$.flush=_,$}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function C(t){return!!t&&"object"==typeof t}function D(t){return"symbol"==typeof t||C(t)&&f.call(t)==u}function w(t){if("number"==typeof t)return t;if(D(t))return s;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var i=r.test(t);return i||l.test(t)?c(t.slice(2),i?2:8):o.test(t)?s:+t}t.exports=b}}]);
//# sourceMappingURL=716.72e4d14a.js.map